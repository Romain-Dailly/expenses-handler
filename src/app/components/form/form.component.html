
<div class='form'>
  <div class='close'><i class='fas fa-times'(click)='closeForm()'></i></div>
  <h3>{{formTitle}}</h3>
  <div class='form-content'>
    <div class='left-part'>
      <label>Nature</label>
      <input name="expenseNature" type="text" maxlength='120' [(ngModel)]="expenseNature"(ngModelChange)='onInputChange()' placeholder='Voyage, Restaurant ...'/>
      <label>Commentaire</label>
      <textarea name="expenseComment" rows='3' maxlength='600' [(ngModel)]="expenseComment"(ngModelChange)='onInputChange()' placeholder='Séminaire à Londres ...'></textarea>
    </div>
    <div class='right-part'>
      <label>Date</label>
      <input class='date' name="expenseDate" type="date"[(ngModel)]="expenseDate" (ngModelChange)='onInputChange()'/>
      <label>Montant Initial</label>
      <input class='number-input' name="expenseOriginalAmount" type="number" [(ngModel)]="expenseOriginalAmount"(ngModelChange)='onAmountInputChange()' placeholder='Montant dans la devise de la dépense'/>
      <label>Devise</label>
      <select name="expenseOriginalAmountCurrency" type="select" [(ngModel)]="expenseOriginalAmountCurrency" (ngModelChange)='onAmountInputChange()' placeholder='EUR'>
        <option value='EUR'>EUR</option>
        <option value='CHF'>CHF</option>
        <option value='GBP'>GBP</option>
        <option value='USD'>USD</option>
      </select>
      
      <!-- <label >Montant en Euros</label>
      <p class='converted-amount' >
        <span *ngIf='isConversionDone' class='convertedAmount'>{{expenseConvertedAmount}} {{expenseConvertedAmountCurrency}}</span>
        <span *ngIf='isConversionLoading'>Conversion en cours ...</span>
      </p> -->
    </div>
  </div>
  <label >Montant en Euros</label>
  <p class='converted-amount' >
    <span *ngIf='isConversionDone' class='convertedAmount'>{{expenseConvertedAmount}} {{expenseConvertedAmountCurrency}}</span>
    <span *ngIf='isConversionLoading'>Conversion en cours ...</span>
  </p>
    <div class ='buttons'>
      <app-styled-button [roundButton]='false' [buttonSave]='true' [disabled]='isButtonDisabled' (click)='onSubmit()'></app-styled-button>
      <app-styled-button *ngIf='showDeleteButton' [buttonSave]='false' [disabled]='false' (click)='handleDelete()'></app-styled-button>
    </div>
    <div *ngIf='error' class='error'>Erreur lors de l'envoi</div>
</div>